# map doesn't change
# do we give them full knowledge of the tiles?
# random or fixed map?
# relative coords? based on the player base?
#   send unit discovered tile
#   minimal number of units (5)
# unit actions
#   move
#   attack
#   harvest
# friendly fire?
# can you walk through other units?
# 2 kinds of resources
# unit types harvester/attack/scout?
# start w/ enough resources for attacker or scout
# stun when shot, but can kill
# workers should be slightly faster than the attacker

# turns 100ms?
# could infinite message length break the system?


# SERVER PROTOCOL:
# tile-update event: contents of a visible tile changed
#                     or tiles that weren't prev visible now are
#                     include our own units?
# unit-update event: health/location/inventory/id
#                     happens on create unit

# CLIENT PROTOCOL:
#
# move unit 12 direction
# attack unit 11 [target tile]
# harvest unit 10 direction
# create unit of type: X

#scenario: 
# enemy steps onto visible tile, our player gets a tile update event

QUESTIONS: 
use single chars for worker/dirt/etc?
allow diagonal moves?

sample commands message to server:
{
  commands: [
    {command: 'move', id: 'x', dir: 'N'},
    {command: 'move', id: 'y', dir: 'S'},
  ]
}

sample tick JSON message from server:
{
  tile-updates: [
    {x: 2, y: 3, type: 'dirt', contents: [
                                  {type: 'worker', color: 'red'},
                                  {type: 'worker', color: 'red'},
                                  ]} //how much detail to give here?
    {x: 1, y: 2, type: 'dirt'},
    {x: 1, y: 3, type: 'dirt'},
    {x: 1, y: 4, type: 'dirt'},
    {x: 2, y: 3, type: 'dirt'},
    {x: 2, y: 3, type: 'dirt'},
    {x: 3, y: 2, type: 'dirt'},
    {x: 3, y: 3, type: 'dirt'},
    {x: 3, y: 4, type: 'dirt'},
  ],

  unit-updates: [
    {id: 'x', health: 2, x: 2, y: 3, color: 'red'},
    {id: 'y', health: 2, x: 2, y: 3, color: 'red'},
  ],

  messages: ["Previous command: 'badstuff' was not recognized JSON"]
}




